{% extends 'base.html' %} {% block title %} {{object.name}} {% endblock title %}
{% block content %}
<style>
  .siteimg {
    object-fit: cover;
    height: 40vh;
    width: fit-content;
    margin-bottom: 3%;
  }

  /* .content-form {
    padding: 5% 0;
  }

  .con-text {
    padding: 0 5%;
  } */

  /* @media screen and (min-width: 1200px) {
    .siteimg {
      margin-top: 22%;
      margin-bottom: 0%;
    }
  }
  @media screen and (max-width: 1200px) {
    .siteimg {
      margin-top: 3%;
    }
  } */
</style>
<div class="d-flex justify-content-center align-items-center">
  <div
    class="container shadow m-5 rounded-lg d-flex flex-sm-row-reverse flex-column-reverse"
  >
    <div class="p-5">
      <img
        class="siteimg shadow-sm rounded-lg"
        src="{{site.image_url_1}}"
        alt="Card image cap"
      />
      <img
        class="siteimg shadow-sm rounded-lg"
        src="{{site.image_url_2}}"
        alt="Card image cap"
      />
    </div>
    <div class="pl-5 pt-5">
      <h2>{{object.name}}</h2>
      <p>{{object.description}}</p>
      <br />
      <h4>Location: {{object.location}}</h4>
      <h4>Timings: From {{object.open_time}} to {{object.close_time}}</h4>
      <h5>Contact Number: {{object.phone}}</h5>
      <h5>Crowd Prediction: {{object.crowd_status}}</h5>
      <br />
      <h4>Ticket Price: ₹ {{object.ticket_price_per_head}} (per head)</h4>

      <form action="/tickets/book/{{site.id}}/" class="mt-4" method="get">
        <div class="form-group form-inline">
          <label for="visit_date">Select Date: </label>&ensp;
          <input
            type="date"
            class="form-control"
            name="visit_date"
            min="{{date|date:'Y-m-d'}}"
            required
          />
        </div>
        <div class="form-group form-inline">
          <label for="count">Enter no. of tickets:</label>&ensp;
          <input
            class="form-control col-sm-4"
            type="number"
            id="count"
            name="count"
            max="20"
            min="1"
            required
          />
        </div>
        <h3 style="display: inline; margin-right: 5%">
          Total Price: ₹ <span id="total">0</span>
        </h3>
        <br />
        <button class="btn btn-dark mt-3" type="submit">Buy Tickets</button>
      </form>
    </div>
  </div>
</div>

<script>
  elem = document.getElementById('count');
  elem.oninput = () => {
    var count = document.getElementById('count').value;
    var price = parseInt('{{object.ticket_price_per_head}}');
    var total = count * price;
    document.getElementById('total').innerHTML = total;
  };
</script>
{% endblock content %}
